pipeline {
  agent {
    node {
      label 'DEPLOY_TEST_LAMBDA'
    }
  }
  stages {
    stage('Deploy') {
      steps {
        script {
          def depScript = load ('deploy/deploy_script.groovy')
          depScript.deployOnLAMBDA();
        }
      }
    }
   stage ("wait_prior_starting_smoke_testing") {
    def time = params.SLEEP_TIME_IN_SECONDS
    echo "Waiting ${SLEEP_TIME_IN_SECONDS} seconds for deployment to complete prior starting smoke testing"
    sleep time.toInteger() // seconds
    }
  }
}
